{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "env": {
    "MAX_MCP_OUTPUT_TOKENS": "50000",
    "BASH_DEFAULT_TIMEOUT_MS": "180000",
    "PLAN_REMINDER_PERCENT": "20"
  },
  "permissions": {
    "allow": [
      "Skill(jj)",
      "Skill(tdd)",
      "Bash(jj bookmark list:*)",
      "Bash(jj config get:*)",
      "Bash(jj diff:*)",
      "Bash(jj dt:*)",
      "Bash(jj evolog:*)",
      "Bash(jj file list:*)",
      "Bash(jj file show:*)",
      "Bash(jj help:*)",
      "Bash(jj log:*)",
      "Bash(jj lt:*)",
      "Bash(jj show:*)",
      "Bash(jj st:*)",
      "Bash(jj status:*)",
      "Bash(grep:*)"
    ],
    "deny": [
      "Bash(git:*)"
    ]
  },
  "hooks": {
      "PreToolUse": [
          {
              "matcher": "Edit|Write",
              "hooks": [
                  {
                      "type": "command",
                      "command": "if command -v jj >/dev/null && jj root >/dev/null 2>&1; then if ! jj status >/dev/null 2>&1; then echo 'WARNING: failed to snapshot jj repository, tell user to fix'; fi; fi"
                  }
              ]
          }
      ],
      "PostToolUse": [
          {
              "matcher": "Edit|Write",
              "hooks": [
                  {
                      "type": "command",
                      "command": "if command -v jj >/dev/null && jj root >/dev/null 2>&1; then if ! jj status >/dev/null 2>&1; then echo 'WARNING: failed to snapshot jj repository, tell user to fix'; fi; fi"
                  }
              ]
          },
          {
              "matcher": ".*",
              "hooks": [
                  {
                      "type": "command",
                      "command": "if [ -n \"$PLAN_REMINDER_PERCENT\" ] && [ $((RANDOM % 100)) -lt \"$PLAN_REMINDER_PERCENT\" ]; then printf '{\"hookSpecificOutput\":{\"hookEventName\":\"PostToolUse\",\"additionalContext\":\"REMINDER: If this session has a plan, design doc, or notes file, update it with recent research and findings to preserve context across compaction.\"}}\\n'; fi"
                  }
              ]
          }
      ]
  },
  "model": "opus",
  "spinnerTipsEnabled": false,
  "alwaysThinkingEnabled": true,
  "feedbackSurveyState": {
    "lastShownTime": 1754299769863
  }
}
